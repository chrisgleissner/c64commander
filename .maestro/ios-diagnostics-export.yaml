appId: uk.gleissner.c64commander
env:
  TIMEOUT: ${TIMEOUT || "15000"}
tags:
  - ios
  - ci-critical-ios
---
- runFlow: subflows/ios-open-settings-tab.yaml
- retry:
    maxRetries: 3
    commands:
      - tapOn:
          id: "diagnostics-open-dialog"
          optional: true
      - tapOn:
          id: "diagnostics-activity-indicator"
          optional: true
      - tapOn:
          text: "Open diagnostics"
          optional: true
      - tapOn:
          text: "Diagnostics"
          optional: true
      - waitForAnimationToEnd
      - extendedWaitUntil:
          visible: "Errors"
          timeout: ${TIMEOUT}
- assertVisible: "Errors"
- assertVisible: "Logs"
- assertVisible: "Traces"
- assertVisible: "Actions"
- takeScreenshot: ios-diagnostics-export-actions
