appId: uk.gleissner.c64commander
---
- runFlow: subflows/launch-and-wait.yaml
- tapOn: "Settings"
- extendedWaitUntil:
    visible: "Settings"
    timeout: 10000

# Scroll until the HVSC section is in view (bounded).
- scroll
- scroll
- scroll
- scroll
- scroll
- scroll
- scroll
- scroll
- scroll
- scroll

- extendedWaitUntil:
    visible: "Enable HVSC downloads"
    timeout: 10000

# Expect the flag to be enabled by default on native builds.
- assertVisible:
    text: "Enable HVSC downloads"
    checked: true

- takeScreenshot: "hvsc-enabled"
- launchApp:
    stopApp: true
- runFlow: subflows/launch-and-wait.yaml
- tapOn: "Settings"
- extendedWaitUntil:
    visible: "Settings"
    timeout: 10000

- scroll
- scroll
- scroll
- scroll
- scroll
- scroll
- scroll
- scroll
- scroll
- scroll

- extendedWaitUntil:
    visible: "Enable HVSC downloads"
    timeout: 10000

- assertVisible:
    text: "Enable HVSC downloads"
    checked: true

- takeScreenshot: "hvsc-persisted"
